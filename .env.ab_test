# A/Bテスト設定
# このファイルを.envにコピーして使用してください

# ============= 既存の設定 =============
FLASK_SECRET_KEY=your-secret-key-here
GOOGLE_API_KEY=your-google-api-key

# ============= A/Bテスト設定 =============

# サービスモード
# - legacy: 既存実装のみ使用（デフォルト）
# - parallel: 並行稼働（新旧両方利用可能）
# - canary: カナリアリリース（一部ユーザーのみ）
# - new: 新実装のみ使用
SERVICE_MODE=parallel

# 個別サービスのフラグ（parallelモード時に有効）
USE_NEW_CHAT_SERVICE=false
USE_NEW_SCENARIO_SERVICE=false
USE_NEW_WATCH_SERVICE=false

# A/Bテスト設定
AB_TEST_ENABLED=true
AB_TEST_RATIO=0.1  # 10%のユーザーで新サービスをテスト

# デバッグ設定
COMPARE_MODE=true      # 比較エンドポイントを有効化
LOG_DIFFERENCES=true   # 新旧の差分をログ出力

# ============= 使用例 =============
# 1. 新サービスをテストする場合
#    SERVICE_MODE=parallel
#    USE_NEW_CHAT_SERVICE=true
#
# 2. 10%のユーザーでカナリアリリース
#    SERVICE_MODE=canary
#    AB_TEST_RATIO=0.1
#
# 3. 完全に新サービスに切り替え
#    SERVICE_MODE=new